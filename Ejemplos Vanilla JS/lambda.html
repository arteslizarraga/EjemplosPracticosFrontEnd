<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
</head>

<body>
    <script>

        let arregloSucio = [
            { edad: 5, descripcion: "Zenaida", sexo: "F" },
            { edad: 1, descripcion: "Andrés", sexo: "M" },
            { edad: 3, descripcion: "José" },                   // Esta repetido pero con distinta edad
            { edad: 2, descripcion: "José", sexo: "M" },        // Esta repetido pero con distinta edad
            { edad: 4, descripcion: "Juana" }
        ];

        let arregloLimpio = arregloSucio.map(c => { return { edad: c.edad, nombre: `${c.descripcion}`, sexo: c.sexo } });

        arregloLimpio.sort((a, b) => a.edad - b.edad);                      // Ordena por edad asc
        // arregloLimpio.sort((a, b) => b.edad - a.edad);                   // Ordena por edad desc
        arregloLimpio.sort((a, b) => a.nombre.localeCompare(b.nombre));     // Ordena alfabeticamente

        console.log(arregloLimpio);

        let arregloNombresSinRepetir = Array.from(arregloLimpio, c => c.nombre).filter((v, i, a) => a.indexOf(v) === i);
        console.log("Los nombres sin repetir son:", arregloNombresSinRepetir.join(","));   // Imprimir cadena separada por comas de solo un atributo del arreglo

        // Obtener el json array de una cadena
        // arregloLimpio = JSON.parse(`[{"edad":1,"nombre":"Andrés"},{"edad":2,"nombre":"José"},{"edad":3,"nombre":"José"},{"edad":4,"nombre":"Juana"},{"edad":5,"nombre":"Zenaida"}]`);  

        arregloLimpio.forEach((elemento, index) => console.log(`${index}: ${JSON.stringify(elemento)}`));

        console.log(arregloLimpio.find(c => c.edad == 2));

        const contar = (lambda) => {
            let arregloFiltrado = arregloLimpio.filter(lambda);
            return (arregloFiltrado != null) ? arregloFiltrado.length : 0;
        };

        if (arregloLimpio.some(c => c.nombre.toLowerCase().includes("juana"))) {
            let cantidad = contar(x => x.nombre.includes("juana"));
            console.log(`Se ${cantidad > 1 ? `encontraron ${cantidad} personas` : "encontró una persona"} cuyo nombre completo incluye la palabra juana`);
        }

        if (arregloLimpio.every(c => c.sexo != null && c.sexo != ""))
            console.log("Todos las personas tienen el campo sexo con un valor");
        else {
            let cantidad = contar(x => x.sexo == null || x.sexo == "");
            console.log(`Se ${cantidad > 1 ? `encontraron ${cantidad} personas` : "encontró una persona"} cuyo campo sexo es nulo o está en blanco`);
        }

    </script>
</body>

</html>