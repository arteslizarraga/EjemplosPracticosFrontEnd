<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Experimento</title>
</head>
<body>

    <table id="grillaMultiNivel" border="2">
        <tbody></tbody>
    </table>

    <script>

        var arregloProbando = [
            {
                nombre: "Región Metropolitana",
                detalles: [
                    {  
                        nombre: "Santiago",
                        detalles: [
                            {
                                nombre: "Las Condes",
                                detalles: [
                                    { 
                                        nombre: "Imperial 1234",
                                        detalles: [
                                            { 
                                                nombre: "Casa de Babu",
                                                detalles: [
                                                    { nombre: "babuuuuuuuuu" },
                                                    { nombre: "loca de patio" }
                                                ] 
                                            }
                                        ] 
                                    },
                                    { 
                                        nombre: "Chiu Chiu 1234",
                                        detalles: [
                                            { 
                                                nombre: "Casa de José" 
                                            }
                                        ] 
                                    }
                                ]
                            },
                            { 
                                nombre: "Vitacura"
                            }
                        ]
                    }
                ]
            },
            {
                nombre: "Región de Valparaíso",
                detalles: [
                    {  
                        nombre: "Viña del Mar",
                        detalles: [
                            {
                                nombre: "Reñaca"
                            }
                        ]
                    }
                ]
            },
            {
                nombre: "Región de O'Higgins"
            }
        ];

        //==================================================>>>>>

        var cadena = "";
        var obtenerTab = (numero) => Array.from(Array(numero).keys()).map(x => "    ").join("");   // map(x => "\t").join("");

        var obtenerNbsp = (numero) => 
        {
            var icono = (numero == 0) ? "+" : "-";
            return Array.from(Array(numero).keys()).map(x => "&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;").join("") + icono;
        };

        function probando(elemento, num)
        {
            cadena += `<tr>
                <td>${obtenerNbsp(num)} ${elemento.nombre}</td>
                <td> <button type="button"> Eliminar </button> </td>
            </tr>`;

            console.log(`${obtenerTab(num)} ${elemento.nombre}`);

            if (elemento.detalles != null)
            {
                elemento.detalles.forEach(x => {
                    probando(x, (num + 1));
                });
            }
        }

        arregloProbando.forEach(x => 
        {
            probando(x, 0);
        });

        document.querySelector("#grillaMultiNivel tbody").innerHTML = cadena;
        
    </script>
    

</body>

</html>